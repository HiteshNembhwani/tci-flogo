"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var types_1=require("../types"),http_1=require("@angular/http"),END_POINT="/wistudio/v1/contributions/proxy";exports.HTTP_METHOD=types_1.strEnum(["GET","POST","PUT","DELETE"]);var CORSUtils=function(){function t(t,e){this.http=t,this.remoteUrl=e,this.method=exports.HTTP_METHOD.GET}return t.createRequest=function(e,r){return new t(e,r)},t.prototype.addQueryParams=function(t,e){return this.queryParams[t]=e,this},t.prototype.addHeader=function(t,e){return this.headers[t]=e,this},t.prototype.addMethod=function(t){return this.method=t,this},t.prototype.addBody=function(t){return this.data=t,this},t.prototype.send=function(){var t=new http_1.Headers;for(var e in this.headers){var r=this.headers[e];t.set(e,r)}return this.queryParams&&(this.remoteUrl=this.buildUrl(this.remoteUrl,this.queryParams)),"GET"===this.method.toLowerCase()?this.http.get(END_POINT+this.remoteUrl,{headers:t}):"POST"===this.method.toLowerCase()?this.http.post(END_POINT+this.remoteUrl,this.data,{headers:t}):"PUT"===this.method.toLowerCase()?this.http.put(END_POINT+this.remoteUrl,this.data,{headers:t}):"DELETE"===this.method.toLowerCase()?this.http.delete(END_POINT+this.remoteUrl,{headers:t}):void 0},t.prototype.buildUrl=function(t,e){var r="";for(var s in e){var o=e[s];r+=encodeURIComponent(s)+"="+encodeURIComponent(o)+"&"}return r.length>0&&(t=t+"?"+(r=r.substring(0,r.length-1))),t},t}();exports.CORSUtils=CORSUtils;