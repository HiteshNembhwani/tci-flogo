"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var node_model_1=require("./node.model"),lodash=require("lodash"),constants_1=require("../../constants");exports.DEFAULT_MAX_ROW_LEN=5;var FlowDiagramTMP=function(){function o(o,e,t,r){this.tasks=e,this.elm=t,this.diagramType=r,this.MAX_ROW_LEN=exports.DEFAULT_MAX_ROW_LEN,this.updateDiagram(o)}return o.getEmptyDiagram=function(o){var e=new node_model_1.FlowDiagramNode,t={root:{is:e.id},nodes:{}};return e.type="error"===o?constants_1.FLOW_DIAGRAM_NODE_TYPE.NODE_ROOT_ERROR_NEW:constants_1.FLOW_DIAGRAM_NODE_TYPE.NODE_ROOT_NEW,t.nodes[e.id]=e,t},o.prototype.updateDiagram=function(e){if(lodash.isEmpty(e)||lodash.isEmpty(e.root))this.updateDiagram(o.getEmptyDiagram(this.diagramType));else{this.root=lodash.cloneDeep(e.root);var t={};lodash.forIn(e.nodes,function(o,e){o instanceof node_model_1.FlowDiagramNode?t[e]=o:t[e]=new node_model_1.FlowDiagramNode(o)}),this.nodes=t,this.MAX_ROW_LEN=lodash.isNumber(e.MAX_ROW_LEN)?e.MAX_ROW_LEN:this.MAX_ROW_LEN}return Promise.resolve(this)},o}();exports.FlowDiagramTMP=FlowDiagramTMP;var FlowDiag=function(){return function(){}}();exports.FlowDiag=FlowDiag;