"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var contribution_observable_1=require("../contribution_observable"),ValidationContext=function(){function t(t){if(this.elements=new Map,t){var e=this;t.forEach(function(t,i){e.elements[i]=t})}}return t.newContext=function(){return new t},t.prototype.addElement=function(t,e){this.elements[t]=e},t.prototype.getElements=function(t){return this.elements[t]},t}();exports.ValidationContext=ValidationContext;var AbstractValidationRule=function(){function t(t){this.validationObservables=[],this.rules=[],t&&(this.rules=t)}return t.prototype.start=function(t,e){for(var i=this.getContexts(t),n=0;n<i.length;n++){var a=i[n];if(this.canValidate(a)){var o=this.getContribHook(a);this.validationObservables.push(contribution_observable_1.ContributionObservable.eval(this,this.validate,o,a))}for(var r=0;r<this.rules.length;r++)this.validationObservables=this.validationObservables.concat(this.rules[r].start(a,e))}return this.validationObservables},t.prototype.canValidate=function(t){return!1},t}();exports.AbstractValidationRule=AbstractValidationRule;