"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var map_model_1=require("./map-model"),mapparser=require("wi-mapper-parser"),ParseLocation=function(){function r(r,t,e){this.offset=r,this.line=t,this.column=e}return r.newLocation=function(t,e,o){return new r(t,e,o)},r.prototype.getOffset=function(){return this.offset},r.prototype.getLine=function(){return this.line},r.prototype.getColumn=function(){return this.column},r.prototype.toString=function(){return'{ "offset": '+this.offset+', "line": '+this.line+', "column":'+this.column+" }"},r}();exports.ParseLocation=ParseLocation;var TokenLocation=function(){function r(r,t){this.start=r,this.end=t}return r.newLocation=function(t,e){return new r(t,e)},r.prototype.getStart=function(){return this.start},r.prototype.getEnd=function(){return this.end},r}();exports.TokenLocation=TokenLocation;var ParseError=function(){function r(r){this.error=r,r.name&&"SyntaxError"===r.name&&(this.errorCode=map_model_1.EnumMapperErrorCodes.M_INVALID_SYNTAX),r.message&&(this.errorMsg=r.message)}return r.newError=function(t){return new r(t)},r.prototype.getErrorCode=function(){return this.errorCode},r.prototype.getErrorMessage=function(){return this.errorMsg},r.prototype.getLocation=function(){var r=ParseLocation.newLocation(-1,-1,-1),t=ParseLocation.newLocation(-1,-1,-1);return this.error.location&&this.error.location.start&&(r=ParseLocation.newLocation(this.error.location.start.offset,this.error.location.start.line,this.error.location.start.column),t=ParseLocation.newLocation(this.error.location.end.offset,this.error.location.end.line,this.error.location.end.column)),TokenLocation.newLocation(r,t)},r.prototype.toString=function(){return this.errorCode+" : "+this.errorMsg},r}();exports.ParseError=ParseError;var ParseTree=function(){function r(r){this.tree=r}return r.newTree=function(t){return new r(t)},r.prototype.getTree=function(){return this.tree},r.prototype.getToken=function(r){return null},r}();exports.ParseTree=ParseTree;var ParseResult=function(){function r(r,t){this.result=r,this.errors=[],t&&this.errors.push(ParseError.newError(t))}return r.newResult=function(t,e){return new r(t,e)},r.prototype.isValid=function(){return this.errors.length>0},r.prototype.getErrors=function(){return this.errors},r.prototype.getParseTree=function(){return ParseTree.newTree(this.result)},r}();exports.ParseResult=ParseResult;var ExpressionParser=function(){function r(){}return r.prototype.parse=function(r){try{var t=mapparser.parse(r);return ParseResult.newResult(t)}catch(r){return ParseResult.newResult(null,r)}},r}();exports.ExpressionParser=ExpressionParser;