"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var rxjs_extensions_1=require("../../common/rxjs-extensions");require("../../common/rxjs-extensions"),exports.hasOwnProp={}.hasOwnProperty;var AppMessaging=function(){function e(e){this.subjects={},e&&(this.subjects=e)}return e.fromSubjects=function(s){return new e(s)},Object.defineProperty(e.prototype,"Subjects",{get:function(){return this.subjects},enumerable:!0,configurable:!0}),e.prototype.getObservable=function(e){if(!this.subjects[e]){var s=this.createName(e);this.subjects[s]||(this.subjects[s]=new rxjs_extensions_1.Subject)}return rxjs_extensions_1.Observable.from(this.subjects["$"+e])},e.prototype.createName=function(e){return"$"+e},e.prototype.emit=function(e,s){var t=this.createName(e);this.subjects[t]||(this.subjects[t]=new rxjs_extensions_1.Subject),this.subjects[t].next(s)},e.prototype.on=function(e,s){var t=this.createName(e);this.subjects[t]||(this.subjects[t]=new rxjs_extensions_1.Subject),this.subjects[t].subscribe(s)},e.prototype.off=function(e,s){var t=this.createName(e);this.subjects[t]&&(this.subjects[t].unsubscribe(),delete this.subjects[t])},e.prototype.dispose=function(e){var s=this.subjects;if(e)exports.hasOwnProp.call(s,"$"+e)&&(s["$"+e].unsubscribe(),delete s["$"+e]);else{for(var t in s)exports.hasOwnProp.call(s,t)&&s[t].unsubscribe();this.subjects={}}},e}();exports.AppMessaging=AppMessaging;