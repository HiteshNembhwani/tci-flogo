"use strict";var __decorate=this&&this.__decorate||function(e,t,r,a){var o,i=arguments.length,s=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,a);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require("@angular/core"),Observable_1=require("rxjs/Observable"),serviceurls_1=require("../shared/serviceurls"),http_1=require("@angular/http"),xhrstream_1=require("../shared/services/xhrstream"),UploadService=function(){function e(e,t){var r=this;this.http=e,this.httpStream=t,this.progress$=Observable_1.Observable.create(function(e){r.progressObserver=e})}return e.prototype.uploadContribution=function(e){for(var t=new FormData,r={},a=0;a<e.length;a++)t.append("files",e[a],e[a].name);return r.body=t,this.httpStream.uploadContribution(serviceurls_1.SERVICE_URLS.USER_CONTRIBUTIONS+"/upload",r)},e.prototype.compile=function(e){return this.http.post(serviceurls_1.SERVICE_URLS.USER_CONTRIBUTIONS+"/compile/"+e,{})},e}();UploadService=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[http_1.Http,xhrstream_1.XHRStreamHttp])],UploadService),exports.UploadService=UploadService;