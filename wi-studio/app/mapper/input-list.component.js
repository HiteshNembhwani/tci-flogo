"use strict";var __decorate=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,c=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(o<3?i(c):o>3?i(t,r,c):i(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require("@angular/core"),mapper_service_1=require("./mapper.service"),Subject_1=require("rxjs/Subject");require("rxjs/add/operator/do"),require("rxjs/add/operator/distinctUntilChanged"),require("rxjs/add/operator/map"),require("rxjs/add/operator/share");var InputListComponent=function(){function e(e){this.mapperService=e,this.ngUnsubscribe=new Subject_1.Subject}return e.prototype.ngOnInit=function(){var e=this,t=this.mapperService.state.share();t.map(function(e){return e.inputs}).distinctUntilChanged().takeUntil(this.ngUnsubscribe).subscribe(function(t){e.treeNodes=t.nodes,e.filterTerm=t.filterTerm}),t.map(function(e){return e.currentSelection?e.currentSelection.node:null}).distinctUntilChanged().takeUntil(this.ngUnsubscribe).subscribe(function(t){e.selectedInput=t})},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.onInputSelect=function(e){this.mapperService.selectInput(e)},e.prototype.onInputSearch=function(e){this.mapperService.filterInputs(e)},e}();InputListComponent=__decorate([core_1.Component({selector:"tibco-mapper-input-list",moduleId:module.id,templateUrl:"input-list.component.html",styleUrls:["input-list.component.css"]}),__metadata("design:paramtypes",[mapper_service_1.MapperService])],InputListComponent),exports.InputListComponent=InputListComponent;