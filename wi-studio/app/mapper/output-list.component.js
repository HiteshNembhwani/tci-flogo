"use strict";var __decorate=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var p=e.length-1;p>=0;p--)(o=e[p])&&(s=(n<3?o(s):n>3?o(t,r,s):o(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require("@angular/core"),single_emission_subject_1=require("./shared/single-emission-subject"),dragging_service_1=require("./tree/dragging.service"),mapper_service_1=require("./mapper.service"),editor_service_1=require("./editor/editor.service");require("rxjs/add/operator/distinctUntilChanged"),require("rxjs/add/operator/do"),require("rxjs/add/operator/map"),require("rxjs/add/operator/takeUntil");var OutputListComponent=function(){function e(e,t){this.mapperService=e,this.editorService=t,this.dragType=dragging_service_1.TYPE_PARAM_OUTPUT,this.selectNode=new core_1.EventEmitter,this.ngDestroy=single_emission_subject_1.SingleEmissionSubject.create()}return e.prototype.ngOnInit=function(){var e=this;this.mapperService.state.map(function(e){return e.outputs}).distinctUntilChanged().takeUntil(this.ngDestroy).subscribe(function(t){e.treeNodes=t.nodes,e.filterTerm=t.filterTerm})},e.prototype.ngOnDestroy=function(){this.ngDestroy.emitAndComplete()},e.prototype.onOutputSelect=function(e){this.editorService.insertText(e.snippet)},e.prototype.onSearchChange=function(e){this.mapperService.filterOutputs(e)},e}();__decorate([core_1.Output(),__metadata("design:type",Object)],OutputListComponent.prototype,"selectNode",void 0),OutputListComponent=__decorate([core_1.Component({selector:"tibco-mapper-output-list",moduleId:module.id,templateUrl:"output-list.component.html",styleUrls:["output-list.component.css"]}),__metadata("design:paramtypes",[mapper_service_1.MapperService,editor_service_1.EditorService])],OutputListComponent),exports.OutputListComponent=OutputListComponent;