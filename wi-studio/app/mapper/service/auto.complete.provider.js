"use strict";var __decorate=this&&this.__decorate||function(e,t,r,o){var a,n=arguments.length,c=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var i=e.length-1;i>=0;i--)(a=e[i])&&(c=(n<3?a(c):n>3?a(t,r,c):a(t,r))||c);return n>3&&c&&Object.defineProperty(t,r,c),c},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var Observable_1=require("rxjs/Observable"),tree_node_factory_service_1=require("./tree-node-factory.service"),core_1=require("@angular/core"),AutoCompleteProvider=function(){function e(e){this.nodeFactory=e}return e.prototype.getRecommendations=function(e,t,r){var o=this;return Observable_1.Observable.create(function(t){var r=o.getOutputSchema(e),a=o.getFunctionsData(e);Observable_1.Observable.merge(r,a).map(function(e){return e}).filter(function(e){return e}).toArray().subscribe(function(e){t.next(e)})})},e.prototype.getOutputSchema=function(e){return Observable_1.Observable.create(function(t){var r=e.getScopedOutputSchemaProvider().getSchema(e.getContextData());t.next(r),t.complete()})},e.prototype.getFunctionsData=function(e){return e.getMapFunctionsProvider().getFunctions()},e}();AutoCompleteProvider=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[tree_node_factory_service_1.TreeNodeFactoryService])],AutoCompleteProvider),exports.AutoCompleteProvider=AutoCompleteProvider;