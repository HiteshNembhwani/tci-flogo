"use strict";var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var JSONNode=function(){function e(e,t,r){this.root=e,this.name=t,this.dataType=r,this.parent=e,this.data=t,this.type=r;var o="integer"===r.toLowerCase()?"number":r.toLowerCase();this.icon="wi-datatype-"+o,this.label=t+":"+r,this.children||(this.children=[])}return e.prototype.hasChildren=function(){return this.children&&this.children.length>0},e.prototype.setIcon=function(e){this.icon=e},e}();exports.JSONNode=JSONNode;var JsonTree=function(e){function t(t){var r=this;return"string"==typeof t&&(t=JSON.parse(t)),(r=e.call(this,"ROOT",t.title,t.type)||this).parse(r,t),r}return __extends(t,e),t.prototype.parse=function(e,t){var r=this.getBranches(t);if(r){if("array"===e.type){var o=this.getMemberType(r);o&&e.setIcon("wi-datatype-"+e.type.toLowerCase()+"-"+o.toLowerCase())}for(var n=0,i=r;n<i.length;n++){var s=(h=i[n]).name||h.parameterName||h,p=new JSONNode(e,s,h.type);e.children.push(p)}if(e.children.length<=0)for(var a in r){var h=r[a],s=h.name||h.parameterName||a,c=h.type?h.type:h,p=new JSONNode(e,s,c);"array"===h.type&&this.parse(p,h),e.children.push(p)}}},t.prototype.getMemberType=function(e){for(var t=!0,r=void 0,o=0,n=e;o<n.length;o++){s=n[o];if(t=t&&(void 0===r||s.type===r),r=s.type,!t)break}if(t)for(var i in e){var s=e[i];if(t=t&&(void 0===r||s.type===r),r=s.type,!t)break}return t?r:void 0},t.prototype.getBranches=function(e){return e.items&&e.items.properties?e.items.properties:e.properties?e.properties:e.items},t}(JSONNode);exports.JsonTree=JsonTree;