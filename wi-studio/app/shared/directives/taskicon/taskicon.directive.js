"use strict";var __decorate=this&&this.__decorate||function(e,t,o,r){var i,n=arguments.length,a=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(n<3?i(a):n>3?i(t,o,a):i(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require("@angular/core"),iconTools=require("./tools"),TaskIconProvider=function(){function e(e){this.el=e,this.failed=!1}return e.prototype.ngOnInit=function(){this.el.nativeElement.onError=function(){this.failed||(this.el.nativeElement.src="/wistudio/dist/assets/svg/flogo.flows.detail.diagram.activity.icon.svg",this.failed=!0),this.el.nativeElement.onError=null},this.el.nativeElement.src=iconTools.taskIconFinder(this.taskIconProvider)},e}();__decorate([core_1.Input(),__metadata("design:type",Object)],TaskIconProvider.prototype,"taskIconProvider",void 0),TaskIconProvider=__decorate([core_1.Directive({selector:"[taskIconProvider]"}),__metadata("design:paramtypes",[core_1.ElementRef])],TaskIconProvider),exports.TaskIconProvider=TaskIconProvider;